"use strict";const searchIcon=document.querySelector(".search__link");if(searchIcon){let e=document.querySelector(".menu__search"),t=document.querySelector(".search__link.close");searchIcon.addEventListener("click",(function(t){e.classList.add("search-active")})),t.addEventListener("click",(function(t){e.classList.remove("search-active")}))}if(document.querySelector(".sertificate__slider"))var certifSlider=tns({container:".sertificate__slider",items:1,slideBy:"page",controls:!1,nav:!1});const btnCertifSlidNext=document.querySelector(".sertificate__btn-next"),btnCertifSlidPrev=document.querySelector(".sertificate__btn-prev");if(btnCertifSlidPrev&&btnCertifSlidNext&&(btnCertifSlidPrev.addEventListener("click",()=>{certifSlider.goTo("prev")}),btnCertifSlidNext.addEventListener("click",()=>{certifSlider.goTo("next")})),document.querySelector(".gallery__slider"))var gallerySlider=tns({container:".gallery__slider",items:1,slideBy:"page",controls:!1,nav:!1,responsive:{992:{items:3},640:{items:2,gutter:30}}});const btnGalleryNext=document.querySelector(".gallery__btn-next"),btnGalleryPrev=document.querySelector(".gallery__btn-prev");if(btnGalleryPrev&&btnGalleryNext&&(btnGalleryPrev.addEventListener("click",()=>{gallerySlider.goTo("prev")}),btnGalleryNext.addEventListener("click",()=>{gallerySlider.goTo("next")})),document.querySelector(".review__container"))var slider=tns({container:".review__container",items:1,slideBy:"page",autoplay:!0,controls:!1,nav:!1,mouseDrag:!0,autoplayButtonOutput:!1,autoplayHoverPause:!0});const btnReviewNext=document.querySelector(".review__btn-next"),btnReviewPrev=document.querySelector(".review__btn-prev");btnReviewPrev&&btnReviewNext&&(btnReviewPrev.addEventListener("click",()=>{slider.goTo("prev"),slider.pause(),setTimeout(slider.play,1e4)}),btnReviewNext.addEventListener("click",()=>{slider.goTo("next"),slider.pause(),setTimeout(slider.play,1e4)}));const popupLinks=document.querySelectorAll(".popup-link"),body=document.querySelector("body"),lockPadding=document.querySelectorAll(".lock-padding");let unlock=!0;const timeout=500;if(popupLinks.length>0)for(let e=0;e<popupLinks.length;e++){const t=popupLinks[e];t.addEventListener("click",(function(e){const n=t.getAttribute("href").replace("#","");popupOpen(document.getElementById(n)),e.preventDefault()}))}const popupCloseIcon=document.querySelectorAll(".close-popup");if(popupCloseIcon.length>0)for(let e=0;e<popupCloseIcon.length;e++){const t=popupCloseIcon[e];t.addEventListener("click",(function(e){popupClose(t.closest(".popup")),e.preventDefault()}))}function popupOpen(e){if(e&&unlock){const t=document.querySelector(".popup.open");t?popupClose(t,!1):bodyLock(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||popupClose(e.target.closest(".popup"))}))}}function popupClose(e,t=!0){unlock&&(e.classList.remove("open"),t&&bodyUnLock())}function bodyLock(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(lockPadding.length>0)for(let t=0;t<lockPadding.length;t++){lockPadding[t].getElementsByClassName.paddingRight=e}body.style.paddingRight=e,body.classList.add("lock"),unlock=!1,setTimeout(()=>{unlock=!0},500)}function bodyUnLock(){setTimeout(()=>{if(lockPadding.length>0)for(let e=0;e<lockPadding.length;e++){lockPadding[e].style.paddingRight="0px"}body.style.paddingRight="0px",body.classList.remove("lock")},500),unlock=!1,setTimeout(()=>{unlock=!0},500)}document.addEventListener("keydown",e=>{if("Escape"===e.key){popupClose(document.querySelector(".popup.open"))}}),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);const iconMenu=document.querySelector(".icon-menu");if(iconMenu){const e=document.querySelector(".menu__body");iconMenu.addEventListener("click",()=>{document.body.classList.toggle("lock"),iconMenu.classList.toggle("_active"),e.classList.toggle("_active")})}const calcCheckboxs=document.querySelectorAll(".checkbox");let priceList=new Map,calcTotal=0,faceAreaTxt="1 зона";function servicesList(e){let t=new Map;const n=document.getElementById("service_10");t.set("area_01",150).set("area_02",200).set("area_03",300).set("area_04",400).set("area_05",500),document.getElementById("face-area").innerHTML=t.get(e.value),n.setAttribute("value",t.get(e.value)),faceAreaTxt=e.options[e.selectedIndex].text}function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}calcCheckboxs.length>0&&calcCheckboxs.forEach(e=>{e.addEventListener("change",({target:{checked:e,id:t,value:n}})=>{const o=document.querySelectorAll(".price__amount");if(e){let e="",o=document.getElementById(t).nextElementSibling;"service_10"===t?(document.querySelector(".services__face-area").disabled=!0,e=`<div class="price-item"> ${o.firstChild.textContent}\n \t\t\t\t\t\t\t\t(${faceAreaTxt}) <span>${n}</span>\n\t\t\t\t\t\t\t</div>`):e=`<div class="price-item"> ${o.innerHTML}\n \t\t\t\t\t\t\t\t<span>${n}</span>\n\t\t\t\t\t\t\t</div>`,"service_21"!==t&&"service_22"!==t||(e=`<div class="price-item"> ${o.lastChild.textContent}\n \t\t\t\t\t\t\t\t<span>${n}</span>\n\t\t\t\t\t\t\t</div>`),priceList.set(t,e),calcTotal+=parseInt(n,10)}else"service_10"===t&&(document.querySelector(".services__face-area").disabled=!1),calcTotal-=parseInt(n,10),priceList.delete(t);o.length>0&&o.forEach(e=>{const t=document.querySelector(".price__btn");0===calcTotal?(t.classList.add("disable"),e.textContent="выберите процедуру для расчета стоимости"):(e.textContent=calcTotal+" руб.",t.classList.remove("disable"))})})}),testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));let isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function resizeSearchField(){document.documentElement.clientWidth<930&&document.documentElement.clientWidth>767?document.querySelector(".search-form__item").style.width=.91*document.querySelector(".menu__body").offsetWidth+"px":document.documentElement.clientWidth<767?document.querySelector(".search-form__item").style.width=document.querySelector(".menu__item").offsetWidth+"px":document.querySelector(".search-form__item").style.width=.87*document.querySelector(".menu__body").offsetWidth+"px"}window.onload=function(){document.addEventListener("click",(function(e){const t=e.target;if(window.innerWidth>768&&isMobile.any()){t.classList.contains("menu__arrow")&&t.closest(".menu__item").classList.toggle("_hover");let e=document.querySelectorAll(".menu__item._hover");if(!t.closest(".menu__item")&&e.length>0)for(let t of e)t.classList.remove("_hover")}(t.classList.contains("search-form__icon")||t.classList.contains("search-form__icon-close"))&&document.querySelector(".header__search").classList.toggle("_active");if(t.classList.contains("price__btn")){const e=document.querySelector(".form__price");if(e){for(;e.firstChild;)e.firstChild.remove();for(let t of priceList.values())e.insertAdjacentHTML("beforeend",t)}}}))},resizeSearchField(),window.addEventListener("resize",resizeSearchField);const signUpLinks=document.querySelectorAll(".promo__btn[data-goto]");if(signUpLinks.length>0){function onSignUpLinkClick(e){const t=e.target;if(t.dataset.goto&&document.querySelector(t.dataset.goto)){const n=document.querySelector(t.dataset.goto).getBoundingClientRect().top+pageYOffset-100;window.scrollTo({top:n,behavior:"smooth"}),e.preventDefault()}}signUpLinks.forEach(e=>{e.addEventListener("click",onSignUpLinkClick)})}const spollersArray=document.querySelectorAll("[data-spollers]");if(spollersArray.length>0){const e=Array.from(spollersArray).filter((function(e,t,n){return!e.dataset.spollers.split(",")[0]}));e.length>0&&initSpollers(e);const t=Array.from(spollersArray).filter((function(e,t,n){return e.dataset.spollers.split(",")[0]}));if(t.length>0){const e=[];t.forEach(t=>{const n={},o=t.dataset.spollers.split(",");n.value=o[0],n.type=o[1]?o[1].trim():"max",n.item=t,e.push(n)});let n=e.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));n=n.filter((function(e,t,n){return n.indexOf(e)===t})),n.forEach(t=>{const n=t.split(","),o=n[1],i=n[2],r=window.matchMedia(n[0]),l=e.filter((function(e){if(e.value===o&&e.type===i)return!0}));r.addEventListener("click",(function(){initSpollers(l,r)})),initSpollers(l,r)})}function initSpollers(e,t=!1){e.forEach(e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),initSpollerBody(e),e.addEventListener("click",setSpollerAction)):(e.classList.remove("_init"),initSpollerBody(e,!1),e.removeEventListener("click",setSpollerAction))})}function initSpollerBody(e,t=!0){const n=e.querySelectorAll("[data-spoller]");n.length>0&&n.forEach(e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)})}function setSpollerAction(e){const t=e.target;if(t.hasAttribute("data-spoller")||t.closest("[data-spoller]")){const n=t.hasAttribute("data-spoller")?t:t.closest("[data-spoller]"),o=n.closest("[data-spollers]"),i=!!o.hasAttribute("data-one-spoller");o.querySelectorAll("._slide").length||(i&&!n.classList.contains("_active")&&hideSpollersBody(o),n.classList.toggle("_active"),_slideToggle(n.nextElementSibling,500)),e.preventDefault()}}function hideSpollersBody(e){const t=e.querySelector("[data-spoller]._active");t&&(t.classList.remove("_active"),_slideUp(t.nextElementSibling,500))}}let _slideUp=(e,t=500)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginBottom=0,e.style.marginTop=0,window.setTimeout(()=>{e.hidden=!0,e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t))},_slideDown=(e,t=500)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden&&(e.hidden=!1);let n=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginBottom=0,e.style.marginTop=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=n+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("margin-top"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)}},_slideToggle=(e,t=500)=>e.hidden?_slideDown(e,t):_slideUp(e,t);const textElement=document.querySelector(".images__slider");textElement&&textElement.insertAdjacentHTML("afterbegin",'\n\t\t\t<div class="images__item">\n\t\t\t\t<img src="/img/certificates/cert_05.jpg" alt="Сертификат">\n\t\t\t</div>\n\t\t\t<div class="images__item">\n\t\t\t\t<img src="/img/certificates/cert_02.jpg" alt="Сертификат">\n\t\t\t</div>\n\t\t\t<div class="images__item">\n\t\t\t\t<img src="/img/certificates/cert_03.jpg" alt="Сертификат">\n\t\t\t</div>\n\t\t\t<div class="images__item">\n\t\t\t\t<img src="/img/certificates/cert_04.jpg" alt="Сертификат">\n\t\t\t</div>\n\t\t\t<div class="images__item">\n\t\t\t\t<img src="/img/certificates/cert_01.jpg" alt="Сертификат">\n\t\t\t</div>\n\t\t');const сertItem=document.querySelectorAll(".sertificate__item"),galleryItem=document.querySelectorAll(".gallery__item");let indexCurrent;if(document.querySelector(".images__slider"))var sliderImgs=tns({container:".images__slider",items:1,slideBy:"page",controls:!1,nav:!1,mode:"gallery"});if(сertItem.length>0)for(const e of сertItem)e.addEventListener("click",()=>{const e=certifSlider.getInfo();indexCurrent=e.index,sliderImgs.goTo(indexCurrent-1)});if(galleryItem.length>0)for(const e of galleryItem)e.addEventListener("click",()=>{console.log(e.querySelector("img").src);const t=gallerySlider.getInfo();indexCurrent=t.index,console.log("indexCurrent = "+indexCurrent),sliderImgs.goTo(indexCurrent-1)});const btnImagesNext=document.querySelector(".images__btn-next"),btnImagesPrev=document.querySelector(".images__btn-prev");btnImagesPrev&&btnImagesNext&&(btnImagesPrev.addEventListener("click",()=>{sliderImgs.goTo("prev")}),btnImagesNext.addEventListener("click",()=>{sliderImgs.goTo("next")}));